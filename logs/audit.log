{"timestamp":"2025-10-02T18:07:04.306Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.Employee (\r\n    EmployeeID INT PRIMARY KEY IDENTITY(1,1),\r\n    FirstName NVARCHAR(50),\r\n    LastName NVARCHAR(50),\r\n    HireDate DATE,\r\n    Salary DECIMAL(10, 2),\r\n    UpdatedAt DATETIME NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:11:58.155Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.Employee (\r\n    EmployeeID INT PRIMARY KEY IDENTITY(1,1),\r\n    FirstName NVARCHAR(50),\r\n    LastName NVARCHAR(50),\r\n    HireDate DATE,\r\n    Salary DECIMAL(10, 2),\r\n    UpdatedAt DATETIME NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:12:18.317Z","action":"rollback","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"DROP TABLE [dbo].[Employee]","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:12:25.714Z","action":"rollback","env":"DEV","dryRun":false,"success":false,"error":"Cannot drop the table 'dbo.Employee', because it does not exist or you do not have permission.","scriptPreview":"DROP TABLE [dbo].[Employee]","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:14.640Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.Employee (\r\n    EmployeeID INT PRIMARY KEY IDENTITY(1,1),\r\n    FirstName NVARCHAR(50),\r\n    LastName NVARCHAR(50),\r\n    HireDate DATE,\r\n    Salary DECIMAL(10, 2),\r\n    UpdatedAt DATETIME NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:18.304Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.Employee (\r\n    EmployeeID INT PRIMARY KEY IDENTITY(1,1),\r\n    FirstName NVARCHAR(50),\r\n    LastName NVARCHAR(50),\r\n    HireDate DATE,\r\n    Salary DECIMAL(10, 2),\r\n    UpdatedAt DATETIME NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:22.021Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:30.601Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:37.665Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:47.493Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:48.580Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:49.570Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:15:53.121Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:21:23.360Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:25:42.359Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [dbo].[emp] (\n  [id] int NULL,\n  [Name] nvarchar(200) NULL,\n  [Salary] decimal(10,2) NULL\n);\n\nCREATE TABLE [dbo].[emp1] (\n  [id] int NULL\n);\n\nCREATE TABLE [dbo].[Emp12345] (\n  [Id] int NOT NULL,\n  [Name] nvarchar(200) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:27:46.568Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:33:04.423Z","action":"apply","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [dbo].[flyway_schema_history] (\n  [installed_rank] int NOT NULL,\n  [version] nvarchar(100) NULL,\n  [description] nvarchar(400) NULL,\n  [type] nvarchar(40) NOT NULL,\n  [script] nvarchar(2000) NOT NULL,\n  [checksum] int NULL,\n  [installed_by] nvarchar(200) NOT NULL,\n  [installed_on] datetime NOT NULL DEFAULT (getdate()),\n  [execution_time] int NOT NULL,\n  [success] bit NOT NULL\n);\n\n-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:35:54.173Z","action":"rollback","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No rollback\n\nDROP TABLE [dbo].[flyway_schema_history]","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:47:56.241Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:47:59.838Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:48:06.978Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:48:16.829Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:48:24.213Z","action":"rollback","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- recreate primary key\nALTER TABLE [dbo].[Employee] ADD CONSTRAINT [PK__Employee__7AD04FF170CADE87] PRIMARY KEY ([EmployeeID]);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:48:28.526Z","action":"rollback","env":"DEV","dryRun":false,"success":false,"error":"Could not create constraint or index. See previous errors.","scriptPreview":"-- recreate primary key\nALTER TABLE [dbo].[Employee] ADD CONSTRAINT [PK__Employee__7AD04FF170CADE87] PRIMARY KEY ([EmployeeID]);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:56:38.538Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:57:20.010Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:57:20.797Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T18:57:24.205Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T19:48:55.620Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T19:53:41.997Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"The specified schema name \"Sales\" either does not exist or you do not have permission to use it.","scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"action":"apply","env":"TEST","success":false,"error":"{\n  \"success\": false,\n  \"message\": \"The specified schema name \\\"Sales\\\" either does not exist or you do not have permission to use it.\"\n}","scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"timestamp":"2025-10-02T19:53:42.007Z"}
{"timestamp":"2025-10-02T19:54:05.311Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"The specified schema name \"Sales\" either does not exist or you do not have permission to use it.","scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"action":"apply","env":"TEST","success":false,"error":"{\n  \"success\": false,\n  \"message\": \"The specified schema name \\\"Sales\\\" either does not exist or you do not have permission to use it.\"\n}","scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"timestamp":"2025-10-02T19:54:05.323Z"}
{"timestamp":"2025-10-02T20:07:57.052Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:00.818Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:07.509Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:09.910Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:12.357Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:14.801Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:25.582Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:08:32.207Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:02.930Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:02.935Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:03.494Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:06.570Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:09.107Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:17.791Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:49.229Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[Emp] ADD Salary123 DECIMAL(10,2) NULL","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:40:58.898Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:41:15.533Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:41:29.068Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:41:39.825Z","action":"apply","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:41:47.672Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE dbo.TableEmp (\r\n  Id INT PRIMARY KEY,\r\n  Name NVARCHAR(100) NULL,\r\n  Salary DECIMAL(10,2) NULL\r\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:41:50.928Z","action":"apply","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:42:38.367Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD FName nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary1 decimal(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Name\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:43:04.798Z","action":"apply","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD FName nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary1 decimal(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Name\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:43:08.131Z","action":"rollback","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Salary decimal(9) NULL\nALTER TABLE [dbo].[TableEmp] ADD Name nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\n-- recreate primary key\nALTER TABLE [dbo].[TableEmp] ADD CONSTRAINT [PK__TableEmp__3214EC07FA8C5245] PRIMARY KEY ([Id]);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:43:45.042Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:54:40.255Z","action":"apply","env":"LIVE","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:54:44.306Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:55:34.215Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"The specified schema name \"Sales\" either does not exist or you do not have permission to use it.","scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD FName nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary1 decimal(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Name\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary\n\nCREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);\n\nCREATE TABLE [Logistics].[Flight] (\n  [FlightID] int NOT NULL,\n  [Airline] nvarchar(100) NOT NULL,\n  [DepartureCity] nvarchar(100) NOT NULL,\n  [ArrivalCity] nvarchar(100) NOT NULL,","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:56:16.608Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"Column names in each table must be unique. Column name 'FName' in table 'dbo.TableEmp' is specified more than once.","scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD FName nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary1 decimal(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Name\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary\n\nCREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);\n\nCREATE TABLE [Logistics].[Flight] (\n  [FlightID] int NOT NULL,\n  [Airline] nvarchar(100) NOT NULL,\n  [DepartureCity] nvarchar(100) NOT NULL,\n  [ArrivalCity] nvarchar(100) NOT NULL,","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:56:25.625Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"Column names in each table must be unique. Column name 'FName' in table 'dbo.TableEmp' is specified more than once.","scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD FName nvarchar(200) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary1 decimal(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Name\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary\n\nCREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);\n\nCREATE TABLE [Logistics].[Flight] (\n  [FlightID] int NOT NULL,\n  [Airline] nvarchar(100) NOT NULL,\n  [DepartureCity] nvarchar(100) NOT NULL,\n  [ArrivalCity] nvarchar(100) NOT NULL,","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:56:41.714Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"The specified schema name \"Logistics\" either does not exist or you do not have permission to use it.","scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(10) NOT NULL,\n  [CompanyName] nvarchar(80) NOT NULL,\n  [ContactName] nvarchar(60) NULL,\n  [ContactTitle] nvarchar(60) NULL,\n  [Address] nvarchar(120) NULL,\n  [City] nvarchar(30) NULL,\n  [Region] nvarchar(30) NULL,\n  [PostalCode] nvarchar(20) NULL,\n  [Country] nvarchar(30) NULL,\n  [Phone] nvarchar(48) NULL,\n  [Fax] nvarchar(48) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(10) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(1000) NULL\n);\n\nCREATE TABLE [Logistics].[Flight] (\n  [FlightID] int NOT NULL,\n  [Airline] nvarchar(100) NOT NULL,\n  [DepartureCity] nvarchar(100) NOT NULL,\n  [ArrivalCity] nvarchar(100) NOT NULL,\n  [DepartureTime] datetime NOT NULL,\n  [ArrivalTime] datetime NOT NULL,\n  [Price] decimal(10,2) NOT NULL,\n  [AvailableSeats] int NOT NULL\n);\n\nCREATE TABLE [Logistics].[MaintenanceLog] (\n  [LogID] int NOT NULL,\n  ","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-02T20:57:40.945Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [Sales].[Customers] (\n  [CustomerID] nchar(20) NOT NULL,\n  [CompanyName] nvarchar(160) NOT NULL,\n  [ContactName] nvarchar(120) NULL,\n  [ContactTitle] nvarchar(120) NULL,\n  [Address] nvarchar(240) NULL,\n  [City] nvarchar(60) NULL,\n  [Region] nvarchar(60) NULL,\n  [PostalCode] nvarchar(40) NULL,\n  [Country] nvarchar(60) NULL,\n  [Phone] nvarchar(96) NULL,\n  [Fax] nvarchar(96) NULL\n);\n\nCREATE TABLE [Sales].[CustomersFeedback] (\n  [FeedbackID] int NOT NULL,\n  [CustomerID] nchar(20) NULL,\n  [FeedbackDate] datetime NULL DEFAULT (getdate()),\n  [Rating] int NULL,\n  [Comments] nvarchar(2000) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-03T18:30:31.957Z","scriptPreview":"Client test audit"}
{"timestamp":"2025-10-03T18:53:31.547Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-03T18:53:34.571Z","action":"rollback","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No rollback","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-03T18:53:39.068Z","action":"rollback","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No rollback","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T20:51:08.630Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T20:52:06.941Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T20:55:22.825Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T20:55:30.867Z","action":"apply","env":"DEV","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[TableEmp] ADD Name NVARCHAR(100) NULL\nALTER TABLE [dbo].[TableEmp] ADD Salary DECIMAL(10,2) NULL\nALTER TABLE [dbo].[TableEmp] DROP COLUMN FName\nALTER TABLE [dbo].[TableEmp] DROP COLUMN Salary1","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-04T21:19:40.545Z","scriptPreview":"Client test audit"}
{"env":"DEV","action":"apply","user":"ui-test","timestamp":"2025-10-04T21:20:10.151Z","scriptPreview":"Client test audit"}
{"timestamp":"2025-10-04T21:20:54.557Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T21:24:50.351Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected\n\n-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T21:25:04.836Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected\n\n-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T21:36:06.202Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected\n\n-- No changes detected\n\nCREATE TABLE [dbo].[test] (\n  [id] int NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-04T21:36:11.730Z","action":"rollback","env":"TEST","dryRun":false,"success":false,"error":"Could not create constraint or index. See previous errors.","scriptPreview":"DROP TABLE [dbo].[test]\n\nALTER TABLE [Sales].[CustomersFeedback] ADD CONSTRAINT [DF__Customers__Feedb__151B244E] DEFAULT (getdate()) FOR [FeedbackDate]\n\n-- recreate primary key\nALTER TABLE [dbo].[TableEmp] ADD CONSTRAINT [PK__TableEmp__3214EC074C5CDA0E] PRIMARY KEY ([Id]);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-06T13:49:09.229Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"'CREATE TRIGGER' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdateti","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime()),\n  [ChangedBy] nvarchar(400) NULL,\n  [RawData] nvarchar(MAX) NULL\n);\n\n\r\nCREATE VIEW distributordashboard.vw_DistributorSalesSummary\r\nAS\r\nSELECT\r\n    d.DistributorId,\r\n    d.DistributorCode,\r\n    d.DisplayName,\r\n    d.Region,\r\n    COUNT(s.SaleId)    AS SaleCount,\r\n    SUM(s.Amount)      AS TotalSales,\r\n    MAX(s.SaleDate)    AS LastSaleDate\r\nFROM distributordashboard.Distributor d\r\nLEFT JOIN distributordashboard.DistributorSales s\r\n    ON s.DistributorId = d.DistributorId\r\nGROUP BY\r\n    d.DistributorId, d.DistributorCode, d.DisplayName, d.Region;\r\n\n\nCREATE PROCEDURE distributordashboard.usp_GetDistributorSummary\r\n    @DistributorId INT = NULL,      -- NULL => return all distributors\r\n    @RecentDays INT = 30            -- include recent sales within this many days\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- return summary rows from view\r\n    SELECT\r\n        v.*\r\n\t\t--,\r\n  --      dbo.fn_Distributor_Exists = CASE WHEN EXISTS (SELECT 1 FROM distributordashboard.Distributor d WHERE d.Di","error":"'CREATE TRIGGER' must be the first statement in a query batch.","timestamp":"2025-10-06T13:49:09.234Z"}
{"timestamp":"2025-10-06T13:49:19.634Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"'CREATE TRIGGER' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdateti","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime()),\n  [ChangedBy] nvarchar(400) NULL,\n  [RawData] nvarchar(MAX) NULL\n);\n\n\r\nCREATE VIEW distributordashboard.vw_DistributorSalesSummary\r\nAS\r\nSELECT\r\n    d.DistributorId,\r\n    d.DistributorCode,\r\n    d.DisplayName,\r\n    d.Region,\r\n    COUNT(s.SaleId)    AS SaleCount,\r\n    SUM(s.Amount)      AS TotalSales,\r\n    MAX(s.SaleDate)    AS LastSaleDate\r\nFROM distributordashboard.Distributor d\r\nLEFT JOIN distributordashboard.DistributorSales s\r\n    ON s.DistributorId = d.DistributorId\r\nGROUP BY\r\n    d.DistributorId, d.DistributorCode, d.DisplayName, d.Region;\r\n\n\nCREATE PROCEDURE distributordashboard.usp_GetDistributorSummary\r\n    @DistributorId INT = NULL,      -- NULL => return all distributors\r\n    @RecentDays INT = 30            -- include recent sales within this many days\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- return summary rows from view\r\n    SELECT\r\n        v.*\r\n\t\t--,\r\n  --      dbo.fn_Distributor_Exists = CASE WHEN EXISTS (SELECT 1 FROM distributordashboard.Distributor d WHERE d.Di","error":"'CREATE TRIGGER' must be the first statement in a query batch.","timestamp":"2025-10-06T13:49:19.640Z"}
{"timestamp":"2025-10-06T13:50:42.287Z","action":"apply","env":"TEST","dryRun":true,"success":false,"error":"'CREATE TRIGGER' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdateti","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-06T13:50:45.503Z","action":"apply","env":"TEST","dryRun":true,"success":false,"error":"'CREATE TRIGGER' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdateti","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-06T13:51:00.158Z","action":"rollback","env":"TEST","dryRun":false,"success":false,"error":"Cannot drop the table 'distributordashboard.Distributor', because it does not exist or you do not have permission.","scriptPreview":"-- No rollback generated\n\n-- No rollback generated\n\nDROP TRIGGER [distributordashboard].[trg_DistributorSales_Audit]\n\nDROP FUNCTION [distributordashboard].[ufn_GetDistributorTotal]\n\nDROP PROCEDURE [distributordashboard].[usp_GetDistributorSummary]\n\nDROP VIEW [distributordashboard].[vw_DistributorSalesSummary]\n\nDROP TABLE [distributordashboard].[DistributorSalesAudit]\n\nDROP TABLE [distributordashboard].[DistributorSales]\n\nDROP TABLE [distributordashboard].[Distributor]","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-06T14:03:51.049Z","action":"apply","env":"DEV","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-06T14:20:24.598Z","action":"apply","env":"TEST","dryRun":true,"success":false,"error":"'CREATE TRIGGER' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [distributordashboard].[Distributor] (\n  [DistributorId] int NOT NULL,\n  [DistributorCode] nvarchar(100) NOT NULL,\n  [DisplayName] nvarchar(400) NOT NULL,\n  [Region] nvarchar(200) NULL,\n  [IsActive] bit NOT NULL DEFAULT ((1)),\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSales] (\n  [SaleId] bigint NOT NULL,\n  [DistributorId] int NOT NULL,\n  [SaleDate] datetime2 NOT NULL,\n  [ProductCode] nvarchar(200) NULL,\n  [Quantity] int NOT NULL DEFAULT ((1)),\n  [UnitPrice] decimal(18,4) NOT NULL,\n  [Amount] AS (([Quantity]*[UnitPrice])),\n  [Notes] nvarchar(2000) NULL,\n  [CreatedAt] datetime2 NOT NULL DEFAULT (sysutcdatetime())\n);\n\nCREATE TABLE [distributordashboard].[DistributorSalesAudit] (\n  [AuditId] bigint NOT NULL,\n  [SaleId] bigint NULL,\n  [DistributorId] int NULL,\n  [SaleDate] datetime2 NULL,\n  [Amount] decimal(18,4) NULL,\n  [Operation] nvarchar(40) NOT NULL,\n  [ChangedAt] datetime2 NOT NULL DEFAULT (sysutcdateti","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-06T15:03:22.301Z","scriptPreview":"Client test audit"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-06T20:38:04.174Z","scriptPreview":"Client test audit"}
{"env":"LIVE","action":"apply","user":"ui-test","timestamp":"2025-10-06T20:38:34.955Z","scriptPreview":"Client test audit"}
{"timestamp":"2025-10-08T16:08:40.946Z","action":"apply","env":"TEST","dryRun":true,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"ALTER TABLE [dbo].[LeadForm] ADD UTM_Source nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Medium nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Campaign nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Content nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Term nvarchar(510) NULL\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n   \r\n-- =============================================    \r\n-- Author: joep   \r\n-- Create date: 02-20-2024   \r\n-- Description: LeadForm insert sproc  \r\n--  \r\n --setLeadFormData @FirstName = N'joe3', @LastName = N'test1023', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567'  \r\n  \r\n --setLeadFormData @FirstName = N'名', @LastName = N'姓', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'u","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T16:09:12.173Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"ALTER TABLE [dbo].[LeadForm] ADD UTM_Source nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Medium nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Campaign nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Content nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Term nvarchar(510) NULL\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n   \r\n-- =============================================    \r\n-- Author: joep   \r\n-- Create date: 02-20-2024   \r\n-- Description: LeadForm insert sproc  \r\n--  \r\n --setLeadFormData @FirstName = N'joe3', @LastName = N'test1023', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567'  \r\n  \r\n --setLeadFormData @FirstName = N'名', @LastName = N'姓', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'u","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"ALTER TABLE [dbo].[LeadForm] ADD UTM_Source nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Medium nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Campaign nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Content nvarchar(510) NULL\nALTER TABLE [dbo].[LeadForm] ADD UTM_Term nvarchar(510) NULL\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n   \r\n-- =============================================    \r\n-- Author: joep   \r\n-- Create date: 02-20-2024   \r\n-- Description: LeadForm insert sproc  \r\n--  \r\n --setLeadFormData @FirstName = N'joe3', @LastName = N'test1023', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567'  \r\n  \r\n --setLeadFormData @FirstName = N'名', @LastName = N'姓', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567', @PostalCode = '02343'  \r\n  \r\n--select * from LeadForm  \r\n--  \r\n-- 03-08-24 jp changed LastName to be optional (IDN requirement)  \r\n  \r\n-- 12-05-24 jp added @PostalCode  \r\n  \r\n-- 12-06-24 SN added @PostalCode name changed to @location  \r\n  \r\n --exec setLeadFormData @FirstName = N'Test', @LastName = N'test SN', @email = 'sethun@ma.com', @CellPhone = '111221111221',  \r\n -- @ReferralInfo = 'ufosn@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '112255441', @Location = '27282', @Assigned =null ,@Status=null  \r\n -- , @Internal_Comment=null,@BestContactTime=null,@Interest=null   \r\n  \r\n -- 12-05-24 SN added @Lead_Comment   \r\n  \r\n -- 01/09/2025 added @Status to default value \"new\" if it is NULL  \r\n    -- 02/25/2025 added @SiteType to default value \"D\" i","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T16:09:12.187Z"}
{"timestamp":"2025-10-08T18:57:23.741Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"-- No changes detected\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n   \r\n-- =============================================    \r\n-- Author: joep   \r\n-- Create date: 02-20-2024   \r\n-- Description: LeadForm insert sproc  \r\n--  \r\n --setLeadFormData @FirstName = N'joe3', @LastName = N'test1023', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567'  \r\n  \r\n --setLeadFormData @FirstName = N'名', @LastName = N'姓', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567', @PostalCode = '02343'  \r\n  \r\n--select * from LeadForm  \r\n--  \r\n-- 03-08-24 jp changed LastName to be optional (IDN requirement)  \r\n  \r\n-- ","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"-- No changes detected\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n   \r\n-- =============================================    \r\n-- Author: joep   \r\n-- Create date: 02-20-2024   \r\n-- Description: LeadForm insert sproc  \r\n--  \r\n --setLeadFormData @FirstName = N'joe3', @LastName = N'test1023', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567'  \r\n  \r\n --setLeadFormData @FirstName = N'名', @LastName = N'姓', @email = 'joep@shop.com', @CellPhone = '8319159099',  \r\n -- @ReferralInfo = 'ufo@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '001234567', @PostalCode = '02343'  \r\n  \r\n--select * from LeadForm  \r\n--  \r\n-- 03-08-24 jp changed LastName to be optional (IDN requirement)  \r\n  \r\n-- 12-05-24 jp added @PostalCode  \r\n  \r\n-- 12-06-24 SN added @PostalCode name changed to @location  \r\n  \r\n --exec setLeadFormData @FirstName = N'Test', @LastName = N'test SN', @email = 'sethun@ma.com', @CellPhone = '111221111221',  \r\n -- @ReferralInfo = 'ufosn@yopmail.com', @PortalData = 'shopmarketplace.com', @UTM = 'TikTok', @SiteType = 'SHP',  \r\n -- @Country = 'USA', @Language = 'ENG', @PCID = '112255441', @Location = '27282', @Assigned =null ,@Status=null  \r\n -- , @Internal_Comment=null,@BestContactTime=null,@Interest=null   \r\n  \r\n -- 12-05-24 SN added @Lead_Comment   \r\n  \r\n -- 01/09/2025 added @Status to default value \"new\" if it is NULL  \r\n    -- 02/25/2025 added @SiteType to default value \"D\" if it is NULL  \r\n -- 04/01/2025 Added  SN  dded Opened_On,   Pending_On,   Closed_On columns   \r\n\r\n -- 10/7/2025 Added  SN  dded UTM_Source, UTM_Medium, UTM_Campaign, UTM_Content, UTM_Term columns   \r\n  \r\n  \r\n-- =============================================    \r\nCREATE PROCEDURE [dbo].[setLead","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T18:57:23.744Z"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-08T19:09:24.672Z","scriptPreview":"Client test audit"}
{"timestamp":"2025-10-08T19:14:59.323Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n ","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n    @sql nvarchar(max),\r\n    @TextOut varchar(max),\r\n    @retVal int = 0,         -- use a single return value variable\r\n    @prevStatus nvarchar(25);\r\n\r\n  -- defaults\r\n  IF @Status IS NULL SET @Status = 'New';\r\n  IF @SiteType IS NULL SET @SiteType = 'D';\r\n\r\n  BEGIN TRY\r\n    INSERT INTO [dbo].[LeadForm]\r\n    (\r\n      FirstName, LastName, Email, CellPhone, ReferralInfo, PortalData, UTM,\r\n      SiteType, Country, Language, PCID, Location, Assigned, Status,\r\n      Internal_Comment, BestContactTime, Interest, Lead_Comment, Closed_None_Result,\r\n      Opened_On, Pending_On, Closed_On,\r\n      UTM_Source, UTM_Medium, UTM_Campaign, UTM_Content, UTM_Term\r\n    )\r\n    SELECT\r\n      @FirstName, @LastName, @Email, @CellPhone, @ReferralInfo, @PortalData, @UTM,\r\n      @SiteType, @Country, @Language, @PCID, @location, @Assigned, @Status,\r\n      @Internal_Comment, @BestContactTime, @Interest, @Lead_Comment, @Closed_None_Result,\r\n      CASE WHEN @Status = 'Open' THEN GETDATE() ELSE NULL END,\r\n      CASE W","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T19:14:59.331Z"}
{"timestamp":"2025-10-08T19:15:43.150Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n ","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n    @sql nvarchar(max),\r\n    @TextOut varchar(max),\r\n    @retVal int = 0,         -- use a single return value variable\r\n    @prevStatus nvarchar(25);\r\n\r\n  -- defaults\r\n  IF @Status IS NULL SET @Status = 'New';\r\n  IF @SiteType IS NULL SET @SiteType = 'D';\r\n\r\n  BEGIN TRY\r\n    INSERT INTO [dbo].[LeadForm]\r\n    (\r\n      FirstName, LastName, Email, CellPhone, ReferralInfo, PortalData, UTM,\r\n      SiteType, Country, Language, PCID, Location, Assigned, Status,\r\n      Internal_Comment, BestContactTime, Interest, Lead_Comment, Closed_None_Result,\r\n      Opened_On, Pending_On, Closed_On,\r\n      UTM_Source, UTM_Medium, UTM_Campaign, UTM_Content, UTM_Term\r\n    )\r\n    SELECT\r\n      @FirstName, @LastName, @Email, @CellPhone, @ReferralInfo, @PortalData, @UTM,\r\n      @SiteType, @Country, @Language, @PCID, @location, @Assigned, @Status,\r\n      @Internal_Comment, @BestContactTime, @Interest, @Lead_Comment, @Closed_None_Result,\r\n      CASE WHEN @Status = 'Open' THEN GETDATE() ELSE NULL END,\r\n      CASE W","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T19:15:43.160Z"}
{"timestamp":"2025-10-08T19:17:22.295Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[setLeadFormData]\nGO\n\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n    @sql nvarchar(max),\r\n    @TextOut varchar(max),\r\n    @retVal int = 0,\r\n    @prevStatus nvarchar(25);\r\n\r\n  -- defaults\r\n  IF @Status IS NULL SET @Status = 'New';\r\n  IF @SiteType IS NULL SET @SiteType = 'D';\r\n\r\n  BEGIN TRY\r\n    INSERT INTO [dbo].[LeadForm]\r\n    (\r\n      FirstName, LastName, Email, CellPhone, ReferralInfo, PortalData, UTM,\r\n      SiteType, Country, Language, PCID, Location, Assigned, Status,\r\n      Internal_Comment, BestContactTime, Interest, Lead_Comment, Closed_None_Result,\r\n      Opened_On, Pending_On, Closed_On,\r\n      UTM_Source, UTM_Medium, UTM_Campaign, UTM_Content, UTM_Term\r\n    )\r\n    SELECT\r\n      @FirstName, @LastName, @Email, @CellPhone, @ReferralInfo, @PortalData, @UTM,\r\n      @SiteType, @Country, @Language, @PCID, @Location, @Assigned, @Status,\r\n      @Internal_Comment, @BestContactTime, @Interest, @Lead_Comment, @Closed_None_Result,\r\n      CASE WHEN @Status = 'Open' THEN GETDATE() ELSE NULL END,\r\n      CASE WHEN @Status = 'Pending' THEN GETDATE() ELSE ","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T19:17:22.301Z"}
{"timestamp":"2025-10-08T19:18:22.979Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T19:18:29.061Z","action":"rollback","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No rollback generated","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T19:19:39.568Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T19:19:41.940Z","action":"rollback","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No rollback generated","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T19:34:14.910Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected\n\n-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T19:55:20.296Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Close","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"LIVE","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Closed_None_Result] nvarchar(2000) NULL,\n  [Verifying_On] datetime NULL,\n  [UTM_Source] nvarchar(510) NULL,\n  [UTM_Medium] nvarchar(510) NULL,\n  [UTM_Campaign] nvarchar(510) NULL,\n  [UTM_Content] nvarchar(510) NULL,\n  [UTM_Term] nvarchar(510) NULL\n);\n\n\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T19:55:20.302Z"}
{"timestamp":"2025-10-08T20:15:08.098Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Close","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"LIVE","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Closed_None_Result] nvarchar(2000) NULL,\n  [Verifying_On] datetime NULL,\n  [UTM_Source] nvarchar(1020) NULL,\n  [UTM_Medium] nvarchar(1020) NULL,\n  [UTM_Campaign] nvarchar(1020) NULL,\n  [UTM_Content] nvarchar(1020) NULL,\n  [UTM_Term] nvarchar(1020) NULL\n);\n\n\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NU","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T20:15:08.105Z"}
{"timestamp":"2025-10-08T20:16:01.348Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected\n\n-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T20:16:38.904Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NULL,\r\n  @UTM_Campaign NVARCHAR(255) = NULL,\r\n  @UTM_Content NVARCHAR(255) = NULL,\r\n  @UTM_Term NVARCHAR(255) = NULL\r\n)\r\nAS\r\nBEGIN\r\n  SET NOCOUNT ON;\r\n\r\n  DECLARE\r\n    @LastUpdated datetime,\r\n    @sql nvarchar(max),\r\n    @TextOut varchar(max),\r\n    @retV","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-08T20:17:22.446Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"A RETURN statement with a return value cannot be used in this context.","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Close","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"LIVE","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Closed_None_Result] nvarchar(2000) NULL,\n  [Verifying_On] datetime NULL,\n  [UTM_Source] nvarchar(1020) NULL,\n  [UTM_Medium] nvarchar(1020) NULL,\n  [UTM_Campaign] nvarchar(1020) NULL,\n  [UTM_Content] nvarchar(1020) NULL,\n  [UTM_Term] nvarchar(1020) NULL\n);\n\n\r\nCREATE PROCEDURE [dbo].[setLeadFormData]\r\n(\r\n  @FirstName nvarchar(128),\r\n  @LastName nvarchar(128) = NULL,\r\n  @Email nvarchar(255),\r\n  @CellPhone nvarchar(100),\r\n  @ReferralInfo nvarchar(100) = NULL,\r\n  @PortalData nvarchar(255),\r\n  @UTM nvarchar(255) = NULL,\r\n  @SiteType nvarchar(3),\r\n  @Country nvarchar(3),\r\n  @Language nvarchar(3),\r\n  @PCID nvarchar(25) = NULL,\r\n  @Location nvarchar(100) = NULL,\r\n  @Assigned nvarchar(25) = NULL,\r\n  @Status nvarchar(25) = NULL,\r\n  @Internal_Comment nvarchar(1000) = NULL,\r\n  @BestContactTime nvarchar(50) = NULL,\r\n  @Interest nvarchar(1000) = NULL,\r\n  @Lead_Comment nvarchar(1000) = NULL,\r\n  @Closed_None_Result nvarchar(1000) = NULL,\r\n  @UTM_Source NVARCHAR(255) = NULL,\r\n  @UTM_Medium NVARCHAR(255) = NU","error":"A RETURN statement with a return value cannot be used in this context.","timestamp":"2025-10-08T20:17:22.452Z"}
{"timestamp":"2025-10-08T20:18:32.598Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [dbo].[LeadForm] (\n  [LeadFormID] int NOT NULL,\n  [FirstName] nvarchar(256) NULL,\n  [LastName] nvarchar(256) NULL,\n  [Email] nvarchar(510) NULL,\n  [CellPhone] nvarchar(200) NULL,\n  [ReferralInfo] nvarchar(200) NULL,\n  [PortalData] nvarchar(510) NULL,\n  [UTM] nvarchar(510) NULL,\n  [SiteType] nvarchar(6) NULL,\n  [Country] nvarchar(6) NULL,\n  [Language] nvarchar(6) NULL,\n  [PCID] nvarchar(50) NULL,\n  [Submitted] datetime NULL DEFAULT (getdate()),\n  [Updated] datetime NULL,\n  [Location] nvarchar(50) NULL,\n  [Assigned] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL DEFAULT ('New'),\n  [Closed_Result] nvarchar(50) NULL,\n  [Comment_Result] nvarchar(2000) NULL,\n  [Lead_Comment] nvarchar(2000) NULL,\n  [Internal_Comment] nvarchar(2000) NULL,\n  [Opened_On] datetime NULL,\n  [Pending_On] datetime NULL,\n  [Closed_On] datetime NULL,\n  [BestContactTime] nvarchar(100) NULL,\n  [Interest] nvarchar(2000) NULL,\n  [EmailFlag] bit NOT NULL DEFAULT ((0)),\n  [EmailSentDate] datetime NULL,\n  [Close","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T17:08:43.381Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(100) NULL,\n  [Status] nvarchar(100) NULL,\n  [DateCalculated] datetime NULL\n);\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(100) NOT NULL,\n  [BDCHomeCountry] nvarchar(100) NULL,\n  [CurrentPinLevelDescription] nvarchar(100) NULL,\n  [DisplayName] nvarchar(500) NULL,\n  [EmailAddress] nvarchar(300) NULL,\n  [CellphoneNumber] nvarchar(100) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(20) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(100) NULL\n);\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[C","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(100) NULL,\n  [Status] nvarchar(100) NULL,\n  [DateCalculated] datetime NULL\n);\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(100) NOT NULL,\n  [BDCHomeCountry] nvarchar(100) NULL,\n  [CurrentPinLevelDescription] nvarchar(100) NULL,\n  [DisplayName] nvarchar(500) NULL,\n  [EmailAddress] nvarchar(300) NULL,\n  [CellphoneNumber] nvarchar(100) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(20) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(100) NULL\n);\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","timestamp":"2025-10-09T17:08:43.383Z"}
{"timestamp":"2025-10-09T17:08:54.564Z","action":"rollback","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"DROP PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]\n\nDROP TABLE [dbo].[NewMUFO_Tracker]\n\nDROP TABLE [dbo].[NewMUFO_Quarter]","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T17:09:55.157Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(100) NULL,\n  [Status] nvarchar(100) NULL,\n  [DateCalculated] datetime NULL\n);\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(100) NOT NULL,\n  [BDCHomeCountry] nvarchar(100) NULL,\n  [CurrentPinLevelDescription] nvarchar(100) NULL,\n  [DisplayName] nvarchar(500) NULL,\n  [EmailAddress] nvarchar(300) NULL,\n  [CellphoneNumber] nvarchar(100) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(20) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(100) NULL\n);\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[C","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(100) NULL,\n  [Status] nvarchar(100) NULL,\n  [DateCalculated] datetime NULL\n);\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(100) NOT NULL,\n  [BDCHomeCountry] nvarchar(100) NULL,\n  [CurrentPinLevelDescription] nvarchar(100) NULL,\n  [DisplayName] nvarchar(500) NULL,\n  [EmailAddress] nvarchar(300) NULL,\n  [CellphoneNumber] nvarchar(100) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(20) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(100) NULL\n);\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","timestamp":"2025-10-09T17:09:55.159Z"}
{"timestamp":"2025-10-09T17:12:00.125Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(100) NULL,\n  [Status] nvarchar(100) NULL,\n  [DateCalculated] datetime NULL\n);\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(100) NOT NULL,\n  [BDCHomeCountry] nvarchar(100) NULL,\n  [CurrentPinLevelDescription] nvarchar(100) NULL,\n  [DisplayName] nvarchar(500) NULL,\n  [EmailAddress] nvarchar(300) NULL,\n  [CellphoneNumber] nvarchar(100) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(20) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(100) NULL\n);","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T17:12:24.060Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T17:22:34.124Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes detected","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T17:27:30.911Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"ALTER TABLE [dbo].[NewMUFO_Quarter] ALTER COLUMN [Quarter] nvarchar(50) NULL\nALTER TABLE [dbo].[NewMUFO_Quarter] ALTER COLUMN [Status] nvarchar(50) NULL","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T18:01:29.336Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL,\n  [DateCalculated] datetime NULL\n);\n\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(50) NOT NULL,\n  [BDCHomeCountry] nvarchar(50) NULL,\n  [CurrentPinLevelDescription] nvarchar(50) NULL,\n  [DisplayName] nvarchar(250) NULL,\n  [EmailAddress] nvarchar(150) NULL,\n  [CellphoneNumber] nvarchar(50) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(10) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(50) NULL\n);\n\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[Curren","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"env":"TEST","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL,\n  [DateCalculated] datetime NULL\n);\n\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(50) NOT NULL,\n  [BDCHomeCountry] nvarchar(50) NULL,\n  [CurrentPinLevelDescription] nvarchar(50) NULL,\n  [DisplayName] nvarchar(250) NULL,\n  [EmailAddress] nvarchar(150) NULL,\n  [CellphoneNumber] nvarchar(50) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(10) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(50) NULL\n);\n\n\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","timestamp":"2025-10-09T18:01:29.339Z"}
{"timestamp":"2025-10-09T18:02:04.030Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL,\n  [DateCalculated] datetime NULL\n);\n\n\nCREATE TABLE [dbo].[NewMUFO_Tracker] (\n  [MemberID] nvarchar(50) NOT NULL,\n  [BDCHomeCountry] nvarchar(50) NULL,\n  [CurrentPinLevelDescription] nvarchar(50) NULL,\n  [DisplayName] nvarchar(250) NULL,\n  [EmailAddress] nvarchar(150) NULL,\n  [CellphoneNumber] nvarchar(50) NULL,\n  [BV Requirement Met] varchar(3) NULL,\n  [Personally Sponsor Requirement Met] varchar(3) NULL,\n  [Ticket Requirement Met] varchar(3) NULL,\n  [BV] decimal(18,2) NULL,\n  [Gen 1 New UFO] int NULL,\n  [Gen 2 New UFO] int NULL,\n  [Total New UFO] int NULL,\n  [Tickets] int NULL,\n  [isMufoReqMet] nvarchar(10) NULL,\n  [DateCalculated] datetime NULL,\n  [PeriodID] nvarchar(50) NULL\n);\n","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T18:02:37.251Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":[],"scriptPreview":"CREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-09T18:07:28.412Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes required\n\n-- No changes required\n\n-- No changes detected","user":"sethun","correlationId":"MUFO-DEPLOY-20251009-140728","gitCommit":"cmd-deploy","clientIp":"::1"}
{"timestamp":"2025-10-09T18:08:35.574Z","action":"apply","env":"TEST","dryRun":true,"success":true,"rowsAffected":[],"scriptPreview":"-- No changes required\n\n-- No changes required\n\n-- No changes detected","user":"sethun","correlationId":"MUFO-DEPLOY-20251009-140835","gitCommit":"cmd-deploy","clientIp":"::1"}
{"timestamp":"2025-10-09T18:13:51.186Z","action":"apply","env":"LIVE","dryRun":false,"success":false,"error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL,\n  [DateCalculated] datetime NULL\n);\n\n\nALTER TABLE [dbo].[NewMUFO_Tracker] ADD [PeriodID] nvarchar(50) NULL\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]\nGO\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [Di","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::ffff:10.100.1.221"}
{"env":"LIVE","action":"apply","user":"ui","scriptPreview":"CREATE TABLE [dbo].[NewMUFO_Quarter] (\n  [Quarter] nvarchar(50) NULL,\n  [Status] nvarchar(50) NULL,\n  [DateCalculated] datetime NULL\n);\n\n\nALTER TABLE [dbo].[NewMUFO_Tracker] ADD [PeriodID] nvarchar(50) NULL\n\n-- Replace PROCEDURE\nDROP PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]\nGO\nCREATE PROCEDURE [dbo].[GetnewMUFOTracker_UFOID]  \r\n    @UFOID INT,  \r\n    @PERIOD nvarchar(1) = 'C'  \r\nAS  \r\nBEGIN  \r\n    SET NOCOUNT ON;  \r\n    SELECT [MemberID]  \r\n      ,[BDCHomeCountry]  \r\n      ,[CurrentPinLevelDescription]  \r\n      ,[DisplayName]  \r\n      ,[EmailAddress]  \r\n      ,[CellphoneNumber]  \r\n      ,[BV Requirement Met] as [BVRequirementMet]  \r\n      ,[Personally Sponsor Requirement Met] as [PersonallySponsorRequirementMet]  \r\n      ,[Ticket Requirement Met] as [TicketRequirementMet]  \r\n      ,[BV]  \r\n      ,[Gen 1 New UFO] as [Gen1NewUFO]  \r\n      ,[Gen 2 New UFO] as [Gen2NewUFO]  \r\n      ,[Total New UFO] as [TotalNewUFO]  \r\n      ,[Tickets]  \r\n   ,isMufoReqMet  \r\n      ,PeriodID  \r\n    FROM [DistributorDashboard].[dbo].[NewMUFO_Tracker] (NOLOCK) as t  \r\n    join [DistributorDashboard].[dbo].[NewMUFO_Quarter] (nolock) as q on t.PeriodID = q.Quarter  \r\n    WHERE [MemberID] = @UFOID  \r\n    and q.Status = @PERIOD  \r\nEND  \r\n","error":"'CREATE/ALTER PROCEDURE' must be the first statement in a query batch.","timestamp":"2025-10-09T18:13:51.029Z"}
{"timestamp":"2025-10-09T18:20:40.546Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"CREATE TABLE [dbo].[Table1] (\n  [ID] int NOT NULL,\n  [Name] nvarchar(50) NULL\n);\n\nGO\n\nCREATE PROCEDURE [dbo].[Procedure1]\nAS\nBEGIN\n  SELECT * FROM [dbo].[Table1]\nEND\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T13:28:59.513Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"-- No changes required\nGO\n\n-- No changes required\nGO\n\n-- No changes detected\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:34:00.108Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"ALTER TABLE [Sales].[Customers] ALTER COLUMN [CustomerID] nchar(5) NOT NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [CompanyName] nvarchar(40) NOT NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactName] nvarchar(30) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactTitle] nvarchar(30) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Address] nvarchar(60) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [City] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Region] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [PostalCode] nvarchar(10) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Country] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Phone] nvarchar(24) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Fax] nvarchar(24) NULL\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:35:43.793Z","action":"rollback","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"ALTER TABLE [Sales].[Customers] ALTER COLUMN [Fax] nvarchar(96) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Phone] nvarchar(96) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Country] nvarchar(60) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [PostalCode] nvarchar(40) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Region] nvarchar(60) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [City] nvarchar(60) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Address] nvarchar(240) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactTitle] nvarchar(120) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactName] nvarchar(120) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [CompanyName] nvarchar(160) NOT NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [CustomerID] nchar(20) NOT NULL\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:36:29.540Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"ALTER TABLE [Sales].[Customers] ALTER COLUMN [CustomerID] nchar(5) NOT NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [CompanyName] nvarchar(40) NOT NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactName] nvarchar(30) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [ContactTitle] nvarchar(30) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Address] nvarchar(60) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [City] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Region] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [PostalCode] nvarchar(10) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Country] nvarchar(15) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Phone] nvarchar(24) NULL\nALTER TABLE [Sales].[Customers] ALTER COLUMN [Fax] nvarchar(24) NULL\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:46:19.990Z","action":"apply","env":"TEST","dryRun":false,"success":false,"error":"script.split is not a function","scriptPreview":"[object Object]","user":"TestUser","correlationId":"TEST-001-20251010-104619","gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:47:03.584Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"-- Test script\nSELECT GETDATE() as TestTime;","user":"TestUser","correlationId":null,"gitCommit":null,"clientIp":"::1"}
{"timestamp":"2025-10-10T14:48:17.686Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"-- Test DDL Change for Git Integration\nBEGIN TRANSACTION\n\nALTER TABLE dbo.TableEmp ADD GitTestColumn VARCHAR(100) NULL\n\nIF @@ERROR = 0\n    COMMIT TRANSACTION\nELSE\n    ROLLBACK TRANSACTION","user":"GitTestUser","correlationId":"GIT-TEST-001","gitCommit":null,"clientIp":"::1"}
{"env":"DEV","action":"test","user":"ui-test","timestamp":"2025-10-10T14:54:13.101Z","scriptPreview":"Client test audit"}
{"timestamp":"2025-10-14T16:04:35.551Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"CREATE TABLE [dbo].[TableEmp1] (\n  [Id] int NOT NULL,\n  [Name] nvarchar(100) NULL,\n  [Salary] decimal(10,2) NULL\n);\nALTER TABLE [dbo].[TableEmp1] ADD CONSTRAINT [PK__TableEmp__3214EC07B7CD5456] PRIMARY KEY ([Id]);\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1","gitCommitHash":"30f9d78ff3863cb5912ebefb2e133143b4ed7c31"}
{"timestamp":"2025-10-14T16:05:36.290Z","action":"apply","env":"LIVE","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"CREATE TABLE [dbo].[TableEmp1] (\n  [Id] int NOT NULL,\n  [Name] nvarchar(100) NULL,\n  [Salary] decimal(10,2) NULL\n);\nALTER TABLE [dbo].[TableEmp1] ADD CONSTRAINT [PK__TableEmp__3214EC07B7CD5456] PRIMARY KEY ([Id]);\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1","gitCommitHash":"7339bb752d14e291bb3d680ee6221a0185a42cfd"}
{"timestamp":"2025-10-15T16:14:25.192Z","action":"apply","env":"TEST","dryRun":false,"success":true,"rowsAffected":0,"scriptPreview":"ALTER TABLE [dbo].[TableEmp1] ADD [history] char(1) NULL\nGO\n\nCREATE TABLE [dbo].[emp1] (\n  [id] int NULL\n);\n\nGO\n\nCREATE TABLE [dbo].[Emp12345] (\n  [Id] int NOT NULL,\n  [Name] nvarchar(100) NULL\n);\nALTER TABLE [dbo].[Emp12345] ADD CONSTRAINT [PK__Emp12345__3214EC078A1C09E0] PRIMARY KEY ([Id]);\nGO\n\nCREATE TABLE [dbo].[Emp123456] (\n  [Id] int NOT NULL,\n  [Name] nvarchar(100) NULL,\n  [Salary] decimal(10,2) NULL\n);\nALTER TABLE [dbo].[Emp123456] ADD CONSTRAINT [PK__Emp12345__3214EC07DFC7EFE5] PRIMARY KEY ([Id]);\nGO","user":null,"correlationId":null,"gitCommit":null,"clientIp":"::1","gitCommitHash":"14086736139954a738de41cc1957347380f4a316"}
